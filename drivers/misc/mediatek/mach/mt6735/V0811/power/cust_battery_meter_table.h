#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0,	4329},
	{1,	4329},
	{2,	4312},
	{4,	4297},
	{5,	4282},
	{6,	4268},
	{7,	4255},
	{8,	4242},
	{10,	4229},
	{11,	4216},
	{12,	4204},
	{13,	4191},
	{14,	4179},
	{16,	4166},
	{17,	4153},
	{18,	4140},
	{19,	4127},
	{20,	4115},
	{22,	4102},
	{23,	4091},
	{24,	4081},
	{25,	4074},
	{26,	4064},
	{28,	4051},
	{29,	4029},
	{30,	4004},
	{31,	3983},
	{32,	3967},
	{34,	3955},
	{35,	3945},
	{36,	3937},
	{37,	3930},
	{38,	3924},
	{40,	3918},
	{41,	3913},
	{42,	3907},
	{43,	3900},
	{44,	3894},
	{46,	3887},
	{47,	3880},
	{48,	3872},
	{49,	3866},
	{50,	3859},
	{52,	3853},
	{53,	3847},
	{54,	3841},
	{55,	3835},
	{56,	3829},
	{58,	3824},
	{59,	3819},
	{60,	3814},
	{61,	3809},
	{62,	3805},
	{64,	3800},
	{65,	3796},
	{66,	3792},
	{67,	3788},
	{68,	3784},
	{70,	3781},
	{71,	3779},
	{72,	3776},
	{73,	3774},
	{74,	3771},
	{76,	3769},
	{77,	3766},
	{78,	3763},
	{79,	3761},
	{80,	3758},
	{82,	3755},
	{83,	3752},
	{84,	3748},
	{85,	3745},
	{87,	3742},
	{88,	3738},
	{89,	3735},
	{90,	3732},
	{91,	3729},
	{92,	3726},
	{93,	3724},
	{94,	3722},
	{94,	3720},
	{95,	3719},
	{95,	3717},
	{96,	3716},
	{96,	3714},
	{97,	3713},
	{97,	3712},
	{97,	3711},
	{98,	3710},
	{98,	3708},
	{98,	3707},
	{99,	3706},
	{99,	3705},
	{99,	3704},
	{100,	3400}
};
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0,	4340},
	{1,	4321},
	{2,	4306},
	{3,	4292},
	{4,	4278},
	{6,	4266},
	{7,	4254},
	{8,	4242},
	{9,	4229},
	{10,	4217},
	{11,	4205},
	{12,	4193},
	{13,	4181},
	{15,	4169},
	{16,	4157},
	{17,	4144},
	{18,	4132},
	{19,	4120},
	{20,	4107},
	{21,	4096},
	{22,	4087},
	{24,	4080},
	{25,	4073},
	{26,	4059},
	{27,	4038},
	{28,	4011},
	{29,	3990},
	{30,	3974},
	{31,	3961},
	{32,	3951},
	{34,	3942},
	{35,	3935},
	{36,	3929},
	{37,	3922},
	{38,	3917},
	{39,	3909},
	{40,	3901},
	{41,	3894},
	{43,	3886},
	{44,	3879},
	{45,	3872},
	{46,	3864},
	{47,	3858},
	{48,	3852},
	{49,	3847},
	{50,	3841},
	{52,	3835},
	{53,	3831},
	{54,	3826},
	{55,	3820},
	{56,	3816},
	{57,	3812},
	{58,	3808},
	{59,	3804},
	{60,	3800},
	{62,	3797},
	{63,	3793},
	{64,	3790},
	{65,	3787},
	{66,	3783},
	{67,	3781},
	{68,	3779},
	{69,	3777},
	{71,	3775},
	{72,	3773},
	{73,	3771},
	{74,	3769},
	{75,	3766},
	{76,	3763},
	{77,	3760},
	{78,	3757},
	{80,	3753},
	{81,	3749},
	{82,	3744},
	{83,	3739},
	{84,	3734},
	{85,	3727},
	{86,	3721},
	{87,	3715},
	{88,	3711},
	{90,	3708},
	{91,	3705},
	{92,	3703},
	{93,	3700},
	{94,	3695},
	{95,	3684},
	{96,	3661},
	{97,	3624},
	{97,	3594},
	{98,	3567},
	{98,	3544},
	{99,	3524},
	{99,	3507},
	{99,	3492},
	{100,	3400}
};

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0,	4332},
	{1,	4314},
	{2,	4298},
	{3,	4284},
	{4,	4270},
	{5,	4257},
	{7,	4244},
	{8,	4231},
	{9,	4218},
	{10,	4206},
	{11,	4194},
	{12,	4182},
	{13,	4169},
	{14,	4157},
	{15,	4146},
	{16,	4134},
	{17,	4122},
	{19,	4110},
	{20,	4099},
	{21,	4087},
	{22,	4076},
	{23,	4065},
	{24,	4058},
	{25,	4053},
	{26,	4042},
	{27,	4025},
	{28,	4005},
	{30,	3990},
	{31,	3978},
	{32,	3971},
	{33,	3967},
	{34,	3963},
	{35,	3955},
	{36,	3947},
	{37,	3938},
	{38,	3930},
	{39,	3921},
	{40,	3911},
	{42,	3898},
	{43,	3885},
	{44,	3874},
	{45,	3864},
	{46,	3855},
	{47,	3848},
	{48,	3842},
	{49,	3836},
	{50,	3830},
	{51,	3825},
	{53,	3819},
	{54,	3815},
	{55,	3810},
	{56,	3806},
	{57,	3802},
	{58,	3798},
	{59,	3794},
	{60,	3790},
	{61,	3787},
	{62,	3783},
	{64,	3781},
	{65,	3778},
	{66,	3775},
	{67,	3772},
	{68,	3769},
	{69,	3766},
	{70,	3763},
	{71,	3759},
	{72,	3753},
	{73,	3748},
	{75,	3744},
	{76,	3740},
	{77,	3736},
	{78,	3732},
	{79,	3729},
	{80,	3725},
	{81,	3721},
	{82,	3718},
	{83,	3712},
	{84,	3705},
	{85,	3699},
	{86,	3693},
	{87,	3685},
	{89,	3677},
	{90,	3674},
	{91,	3673},
	{92,	3673},
	{93,	3672},
	{94,	3670},
	{95,	3663},
	{96,	3634},
	{97,	3586},
	{98,	3522},
	{99,	3430},
	{100,	3400},
	{100,	3400},
	{100,	3400}
};

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0,	4339},
	{1,	4310},
	{2,	4296},
	{3,	4283},
	{4,	4270},
	{6,	4258},
	{7,	4245},
	{8,	4233},
	{9,	4220},
	{10,	4208},
	{11,	4196},
	{12,	4183},
	{13,	4171},
	{14,	4160},
	{15,	4148},
	{17,	4136},
	{18,	4125},
	{19,	4113},
	{20,	4102},
	{21,	4090},
	{22,	4079},
	{23,	4069},
	{24,	4058},
	{25,	4048},
	{26,	4037},
	{28,	4027},
	{29,	4016},
	{30,	4007},
	{31,	3998},
	{32,	3989},
	{33,	3980},
	{34,	3970},
	{35,	3961},
	{36,	3952},
	{37,	3943},
	{39,	3934},
	{40,	3923},
	{41,	3912},
	{42,	3898},
	{43,	3886},
	{44,	3877},
	{45,	3868},
	{46,	3862},
	{47,	3855},
	{48,	3849},
	{50,	3843},
	{51,	3838},
	{52,	3832},
	{53,	3827},
	{54,	3823},
	{55,	3818},
	{56,	3814},
	{57,	3810},
	{58,	3806},
	{60,	3802},
	{61,	3798},
	{62,	3795},
	{63,	3792},
	{64,	3788},
	{65,	3785},
	{66,	3782},
	{67,	3779},
	{68,	3776},
	{69,	3773},
	{71,	3767},
	{72,	3760},
	{73,	3753},
	{74,	3749},
	{75,	3745},
	{76,	3741},
	{77,	3737},
	{78,	3733},
	{79,	3729},
	{80,	3726},
	{82,	3722},
	{83,	3717},
	{84,	3711},
	{85,	3704},
	{86,	3698},
	{87,	3691},
	{88,	3682},
	{89,	3679},
	{90,	3678},
	{91,	3677},
	{93,	3676},
	{94,	3674},
	{95,	3671},
	{96,	3653},
	{97,	3612},
	{98,	3557},
	{99,	3483},
	{100,	3400},
	{100,	3400},
	{100,	3400},
	{100,	3400}
};     

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
    {0, 0},		
    {0, 0},		
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
    {0, 0},		
    {0, 0},		
	{0,	0}
};  

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{901,	4329},
	{901,	4329},
	{1339,	4312},
	{1336,	4297},
	{1332,	4282},
	{1321,	4268},
	{1312,	4255},
	{1302,	4242},
	{1290,	4229},
	{1278,	4216},
	{1272,	4204},
	{1249,	4191},
	{1241,	4179},
	{1227,	4166},
	{1223,	4153},
	{1200,	4140},
	{1196,	4127},
	{1180,	4115},
	{1167,	4102},
	{1168,	4091},
	{1153,	4081},
	{1146,	4074},
	{1145,	4064},
	{1133,	4051},
	{1115,	4029},
	{1090,	4004},
	{1076,	3983},
	{1070,	3967},
	{1064,	3955},
	{1061,	3945},
	{1060,	3937},
	{1059,	3930},
	{1062,	3924},
	{1061,	3918},
	{1060,	3913},
	{1059,	3907},
	{1058,	3900},
	{1056,	3894},
	{1053,	3887},
	{1053,	3880},
	{1049,	3872},
	{1043,	3866},
	{1056,	3859},
	{1052,	3853},
	{1058,	3847},
	{1055,	3841},
	{1055,	3835},
	{1057,	3829},
	{1062,	3824},
	{1063,	3819},
	{1060,	3814},
	{1057,	3809},
	{1065,	3805},
	{1067,	3800},
	{1072,	3796},
	{1077,	3792},
	{1076,	3788},
	{1081,	3784},
	{1084,	3781},
	{1085,	3779},
	{1100,	3776},
	{1101,	3774},
	{1106,	3771},
	{1117,	3769},
	{1125,	3766},
	{1133,	3763},
	{1145,	3761},
	{1155,	3758},
	{1167,	3755},
	{1178,	3752},
	{1195,	3748},
	{1216,	3745},
	{1233,	3742},
	{1254,	3738},
	{1280,	3735},
	{1298,	3732},
	{1322,	3729},
	{1316,	3726},
	{1311,	3724},
	{1306,	3722},
	{1302,	3720},
	{1297,	3719},
	{1294,	3717},
	{1291,	3716},
	{1287,	3714},
	{1284,	3713},
	{1282,	3712},
	{1279,	3711},
	{1275,	3710},
	{1273,	3708},
	{1270,	3707},
	{1266,	3706},
	{1265,	3705},
	{1261,	3704},
	{1261,	3400}
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{531,	4340},
	{531,	4321},
	{615,	4306},
	{611,	4292},
	{606,	4278},
	{607,	4266},
	{605,	4254},
	{602,	4242},
	{600,	4229},
	{597,	4217},
	{593,	4205},
	{591,	4193},
	{589,	4181},
	{586,	4169},
	{584,	4157},
	{580,	4144},
	{580,	4132},
	{578,	4120},
	{575,	4107},
	{571,	4096},
	{572,	4087},
	{575,	4080},
	{580,	4073},
	{571,	4059},
	{561,	4038},
	{548,	4011},
	{533,	3990},
	{530,	3974},
	{526,	3961},
	{522,	3951},
	{519,	3942},
	{513,	3935},
	{518,	3929},
	{512,	3922},
	{516,	3917},
	{510,	3909},
	{499,	3901},
	{502,	3894},
	{498,	3886},
	{497,	3879},
	{487,	3872},
	{495,	3864},
	{500,	3858},
	{500,	3852},
	{502,	3847},
	{502,	3841},
	{503,	3835},
	{505,	3831},
	{506,	3826},
	{507,	3820},
	{509,	3816},
	{512,	3812},
	{514,	3808},
	{516,	3804},
	{517,	3800},
	{520,	3797},
	{522,	3793},
	{525,	3790},
	{526,	3787},
	{529,	3783},
	{532,	3781},
	{534,	3779},
	{538,	3777},
	{541,	3775},
	{546,	3773},
	{548,	3771},
	{553,	3769},
	{553,	3766},
	{559,	3763},
	{564,	3760},
	{568,	3757},
	{573,	3753},
	{581,	3749},
	{586,	3744},
	{593,	3739},
	{602,	3734},
	{608,	3727},
	{619,	3721},
	{636,	3715},
	{644,	3711},
	{667,	3708},
	{696,	3705},
	{732,	3703},
	{775,	3700},
	{832,	3695},
	{898,	3684},
	{971,	3661},
	{979,	3624},
	{987,	3594},
	{918,	3567},
	{863,	3544},
	{812,	3524},
	{767,	3507},
	{732,	3492},
	{732,	3400}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{171,	4332},
	{171,	4314},
	{172,	4298},
	{173,	4284},
	{174,	4270},
	{174,	4257},
	{173,	4244},
	{175,	4231},
	{177,	4218},
	{179,	4206},
	{180,	4194},
	{182,	4182},
	{182,	4169},
	{184,	4157},
	{186,	4146},
	{189,	4134},
	{191,	4122},
	{192,	4110},
	{194,	4099},
	{195,	4087},
	{198,	4076},
	{201,	4065},
	{207,	4058},
	{214,	4053},
	{211,	4042},
	{206,	4025},
	{206,	4005},
	{209,	3990},
	{207,	3978},
	{210,	3971},
	{213,	3967},
	{216,	3963},
	{214,	3955},
	{214,	3947},
	{216,	3938},
	{201,	3930},
	{193,	3921},
	{188,	3911},
	{180,	3898},
	{173,	3885},
	{165,	3874},
	{156,	3864},
	{151,	3855},
	{149,	3848},
	{148,	3842},
	{148,	3836},
	{147,	3830},
	{148,	3825},
	{148,	3819},
	{149,	3815},
	{149,	3810},
	{151,	3806},
	{152,	3802},
	{153,	3798},
	{154,	3794},
	{154,	3790},
	{155,	3787},
	{156,	3783},
	{157,	3781},
	{157,	3778},
	{158,	3775},
	{160,	3772},
	{158,	3769},
	{159,	3766},
	{158,	3763},
	{155,	3759},
	{151,	3753},
	{147,	3748},
	{148,	3744},
	{150,	3740},
	{149,	3736},
	{148,	3732},
	{148,	3729},
	{147,	3725},
	{150,	3721},
	{151,	3718},
	{151,	3712},
	{148,	3705},
	{150,	3699},
	{152,	3693},
	{151,	3685},
	{147,	3677},
	{147,	3674},
	{151,	3673},
	{155,	3673},
	{160,	3672},
	{167,	3670},
	{172,	3663},
	{161,	3634},
	{165,	3586},
	{172,	3522},
	{187,	3430},
	{187,	3400},
	{187,	3400},
	{187,	3400}
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{112,	4339},
	{112,	4310},
	{113,	4296},
	{113,	4283},
	{114,	4270},
	{114,	4258},
	{115,	4245},
	{115,	4233},
	{116,	4220},
	{115,	4208},
	{117,	4196},
	{117,	4183},
	{118,	4171},
	{119,	4160},
	{118,	4148},
	{119,	4136},
	{121,	4125},
	{122,	4113},
	{123,	4102},
	{123,	4090},
	{124,	4079},
	{127,	4069},
	{127,	4058},
	{128,	4048},
	{129,	4037},
	{131,	4027},
	{134,	4016},
	{135,	4007},
	{137,	3998},
	{139,	3989},
	{140,	3980},
	{143,	3970},
	{145,	3961},
	{146,	3952},
	{147,	3943},
	{147,	3934},
	{145,	3923},
	{140,	3912},
	{130,	3898},
	{123,	3886},
	{120,	3877},
	{117,	3868},
	{117,	3862},
	{116,	3855},
	{115,	3849},
	{115,	3843},
	{116,	3838},
	{117,	3832},
	{117,	3827},
	{118,	3823},
	{119,	3818},
	{120,	3814},
	{120,	3810},
	{123,	3806},
	{122,	3802},
	{123,	3798},
	{124,	3795},
	{126,	3792},
	{127,	3788},
	{127,	3785},
	{128,	3782},
	{129,	3779},
	{130,	3776},
	{128,	3773},
	{124,	3767},
	{119,	3760},
	{117,	3753},
	{119,	3749},
	{120,	3745},
	{120,	3741},
	{119,	3737},
	{119,	3733},
	{119,	3729},
	{120,	3726},
	{122,	3722},
	{122,	3717},
	{121,	3711},
	{120,	3704},
	{122,	3698},
	{122,	3691},
	{118,	3682},
	{116,	3679},
	{119,	3678},
	{123,	3677},
	{127,	3676},
	{133,	3674},
	{138,	3671},
	{131,	3653},
	{129,	3612},
	{135,	3557},
	{143,	3483},
	{164,	3400},
	{164,	3400},
	{164,	3400},
	{164,	3400}
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
	{0,	0}, 
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
    {0, 0},		
    {0, 0},		
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
	{0,	0},
    {0, 0},		
    {0, 0},		
	{0,	0}
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

